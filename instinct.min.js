(function(){function n(n){return"function"!=typeof n}function e(n){var e=c.exec(""+n.prototype.constructor),t={};return e[1].length>0&&e[1].split(",").forEach(function(n,e){t[n]=e}),t}function t(t,c){function r(n,e){var t=[];for(key in n)t[n[key]]="cb"==key?e:c[key];return t}t=t||{},c=c||{};var u={},f={logic:t,facts:c,process:u};return f.exec=function(o,i){function s(){l--||o.apply(f,r(a,i))}if(n(o)&&(o=t[o],n(o)))return i&&i(o);var a=e(o),l=0;return Object.keys(a).forEach(function(n){if(void 0===c[n]&&"cb"!=n){l+=1;var e=u[n];e?u[n]=function(n){e(n),s()}:(u[n]=function(e,t){c[n]=2==arguments.length?t:e,delete u[n],s()},f.exec(n,u[n]))}}),s(),f},f.as=function(n){return u[n]=o,function(e,t){c[n]=2==arguments.length?t:e,console.log(c[n]),u[n](),delete u[n]}},f}function o(){}"undefined"==typeof module?self.instinct=t:module.exports=t,t.version="0.0.1";var c=/function.*?\((.*?)\).*/})();