(function(){function n(n){var t=r.exec(""+n.prototype.constructor),e={};return t[1].length>0&&t[1].split(",").forEach(function(n,t){e[n]=t}),e}function t(t,r){function o(n,t){var e=[];for(var o in n)e[n[o]]="cb"==o?t:r[o];return e}t=t||{},r=r||{};var u={},c={logic:t,facts:r,process:u};return c.exec=function(e,f){function i(){p--||a.apply(c,o(l,function(){u[e].apply(c,arguments)}))}var a,s;if("function"!=typeof e){if(r[e])return f(r[e]);if(s=u[e])return u[e]=function(){s.apply(c,arguments),f&&f.apply(c,arguments)};if(a=t[e],"function"!=typeof a)return f(a)}else a=e;var l=n(a),p=0;return u[e]=function(n,t){delete u[e],r[e]=2==arguments.length?t:n,f.apply(c,arguments)},Object.keys(l).forEach(function(n){void 0===r[n]&&"cb"!=n&&(p++,c.exec(n,i))}),i(),c},c.as=function(n){return u[n]=e,function(t,e){r[n]=2==arguments.length?e:t,console.log(r[n]),u[n](),delete u[n]}},c}function e(){}"undefined"==typeof module?self.instinct=t:module.exports=t,t.version="0.0.2";var r=/function.*?\((.*?)\).*/})();