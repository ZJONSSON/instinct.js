(function(){function n(n){var t=r.exec(""+n.prototype.constructor),e={};return t[1].length>0&&t[1].replace(/\s/g,"").split(",").forEach(function(n,t){e[n]=t}),e}function t(t,r){function u(n,t){var e=[];for(var u in n)e[n[u]]="cb"==u?t:r[u];return e}t=t||{},r=r||{};var o={},c={logic:t,facts:r,process:o};return c.exec=function(e,f){function i(n){arguments.length>1&&n&&(p=-1,o[e].apply(c,arguments)),p--||a.apply(c,u(l,function(){o[e].apply(c,arguments)}))}var a,s;if("function"!=typeof e){if(r[e])return f(r[e]);if(s=o[e])return o[e]=function(){s.apply(c,arguments),f&&f.apply(c,arguments)};if(a=t[e],"function"!=typeof a)return f(a)}else a=e;var l=n(a),p=0;return o[e]=function(n,t){delete o[e],1!=arguments.length&&n||(r[e]=2==arguments.length?t:n),f&&f.apply(c,arguments)},Object.keys(l).forEach(function(n){void 0===r[n]&&"cb"!=n&&(p++,c.exec(n,i))}),i(),c},c.as=function(n){return o[n]=e,function(t,e){r[n]=2==arguments.length?e:t,console.log(r[n]),o[n](),delete o[n]}},c}function e(){}"undefined"==typeof module?self.instinct=t:module.exports=t,t.version="0.0.2";var r=/function.*?\((.*?)\).*/})();